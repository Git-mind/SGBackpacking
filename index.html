<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags always come first-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Base CSS and font family -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">

    <!-- Favicon -->
    <link rel="shortcut icon" href="./img/base/favicon.ico">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <!-- Animate CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <!-- Vue  -->
    <script src="./external/vue.js"></script>

    <!-- Axios -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <!-- Font-Awesome -->
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />

    <!-- ICON NEEDS FONT AWESOME FOR CHEVRON UP ICON -->
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">


    <title>SG Backpacking | Explore SG Today </title>

    <style>
        * {
            font-family: 'Montserrat', sans-serif;
        }

        .carousel-div {
            height: 70vh;
        }

        .carousel-item {
            height: 70vh;
            overflow: hidden;
            position: relative;
        }

        .carousel-item img {
            object-fit: contain;
            opacity: 0.7;
            position: relative;
            bottom: 100px;
        }

        .carousel-text {
            position: absolute;
            top: 150px;
            left: 150px;
        }

        .carousel-text h1 {

            color: white;
            font-weight: 900;
            text-shadow: 0 2px 4px rgba(0, 0, 0, .5);
        }

        .action-btn {
            background-color: #F43636;
            padding: 10px 20px;
            color: white;
        }

        #openweathermap-widget-15 {
            opacity: 0.8;
        }

        .weather-div {
            height: 400px;
        }

        .weather-img {
            width: 100%;
            height: 400px;
            opacity: 0.3;
        }

        .centered {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .left {
            position: absolute;
            top: 10%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        h3 {
            color: #2F4F4F;
        }

        .weather-div {
            position: relative;
            text-align: center;
            color: white;
        }

        .border-bottom {
            border-bottom: 1px solid grey;
            margin: 20px 0px;
        }

        .circle {
            height: 25px;
            width: 25px;
            padding: auto;
            background-color: #2F4F4F;
            border-radius: 50%;
            display: inline-block;
        }

        /* modal css */
        * {
            line-height: 1.5em;
        }

        .wrapper {
            width: 80%;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .title {
            margin-bottom: 0.8em;
        }

        .content {
            width: 70%;
            font-size: 0.8em;
            margin-bottom: 3em;
        }

        .button-popup {
            text-decoration: none;
            padding: 1em 4em;
            border: 1px solid black;
            color: black;
        }

        .button-popup:hover {
            text-decoration: none;
            padding: 1em 4em;
            border: 1px solid black;
            background-color: rgba(74, 74, 74, 0.6);
            color: white;
        }

        .popUp {
            display: flex;
            justify-content: center;
            align-items: center;
            position: fixed;
            z-index: 1;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;

            overflow: auto;
            background-color: rgb(0, 0, 0);
            background-color: rgba(0, 0, 0, 0.4);
        }

        .popup_hide {
            display: none;
        }

        .popUp-content {
            padding: 1em;
            background-color: #fefefe;
            /* border: 0.2em solid #8c8c8c; */
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            border-radius: 5%;

        }

        .popUp-content p {
            text-align: center;
        }

        .popUp-img {
            width: 100%;
        }

        @media (max-width: 768px) {
            .popUp-content {
                width: 85vw;
            }
        }

        .close {
            color: #9e9e9e;
            align-self: flex-end;
            font-size: 1.75em;
            font-weight: 700;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .call-back {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-end;
            margin-top: 1em;
            max-width: 70vw;
        }



        /* 
login modal button */
        .login-modal-btn {
            /* border-radius: 4px; */
            /* background-color: #385e5e; */
            border: none;
            color: #2f4f4e;
            background-color: white;
            text-align: center;
            font-size: 28px;
            /* padding: 20px; */
            width: 100%;
            transition: all 0.5s;
            cursor: pointer;
            /* margin: 5px; */

        }

        .login-modal-btn:focus {
            outline: none
        }


        .login-modal-btn span {
            cursor: pointer;
            display: inline-block;
            position: relative;
            transition: 0.5s;
        }

        .login-modal-btn span:after {
            content: '\00bb';
            position: absolute;
            opacity: 0;
            top: 0;
            right: -20px;
            transition: 0.5s;
        }

        .login-modal-btn:hover span {
            padding-right: 25px;
            color: #ff5352
        }

        .login-modal-btn:hover span:after {
            opacity: 1;
            right: 0;
            color: #ff5352
        }
    </style>

</head>

<body>
    <!-- Nav -->
    <nav class="navbar navbar-expand-lg sticky-top navbar-fixed-top py-0 px-3"
        style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, .12), 0 2px 4px 0 rgba(0, 0, 0, .08); display: flex; flex-direction: row; justify-content: space-between; background-color: darkslategray; position: sticky;">
        <a class="navbar-brand" href="#"><img src="./img/icons/logo-grey.JPG" width="300" id="logo"
                style="border-radius: 10%; height: auto; width: 200px;"></a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"
            style="background-color: #2f4f4f;">
            <i class="fas fa-bars" style="color: #A6A6A6"></i>
        </button>

        <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
            <ul class="navbar-nav mr-2">
                <li class="nav-item dropdown" style="margin: 20px;">
                    <a class="nav-link" href="views/places.html" style="color: #D9D9D9;">
                        Places to Visit
                    </a>
                </li>

                <li class="nav-item dropdown" style="margin: 20px;">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color: #D9D9D9;">
                        Communication and Travel
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown"
                        style="background-color: darkslategrey;">
                        <a class="dropdown-item" href="views/accommodation.html"
                            style="color: #D9D9D9;">Accommodation</a>
                        <a class="dropdown-item" href="views/transport.html" style="color: #D9D9D9;">Transportation</a>
                        <a class="dropdown-item" href="views/wifi.html" style="color: #D9D9D9;">WiFi and SIM cards</a>
                    </div>
                </li>

                <li class="nav-item dropdown" style="margin: 20px;">
                    <a class="nav-link" href="views/favourites.html" style="color: #D9D9D9;">
                        Favourites
                    </a>
                </li>

                <li class="nav-item" style="margin: 20px;">
                    <!-- Add vue v-if here to display login or logout depending whether on user-->
                    <a class="nav-link" href="./index.html" style="color: #D9D9D9; cursor: pointer;"
                        onclick="clickEvent()" id='logInStuff'>
                        Login
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container-fluid main">
        <div class="row carousel-div">
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" data-trigger="3000">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="./img/homepage/carousel-img-1.jpg" class="d-block w-100 img-fluid" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="./img/homepage/carousel-img-2.jpg" class="d-block w-100 img-fluid" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="./img/homepage/carousel-img-3.jpg" class="d-block w-100 img-fluid" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="./img/homepage/carousel-img-4.jpg" class="d-block w-100 img-fluid" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="./img/homepage/carousel-img-5.jpg" class="d-block w-100 img-fluid" alt="...">
                    </div>
                </div>
                <div class="carousel-text">
                    <h1>Make the great escape today.</h1>
                    <a class="btn btn-large rounded-pill action-btn" href="./views/backpack.html">Explore Singapore</a>
                </div>
            </div>
        </div>
        <div class="row m-5">
            <h3><span> <i class="fas fa-map-marker-alt"></i> </span>Popular places:</h3>
            <div class="card-deck my-4">
                <div class="card">
                    <img class="card-img-top" src="./img/homepage/chinatown.png" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Chinatown</h5>
                        <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec condimentum
                            sapien quis metus viverra venenatis. Maecenas scelerisque a enim id porttitor.</p>
                        <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                    </div>
                </div>
                <div class="card">
                    <img class="card-img-top" src="./img/homepage/littleindia.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Little India</h5>
                        <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec condimentum
                            sapien quis metus viverra venenatis. Maecenas scelerisque a enim id porttitor..</p>
                        <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                    </div>
                </div>
                <div class="card">
                    <img class="card-img-top" src="./img/homepage/pub.png" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Pubs and bars</h5>
                        <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec condimentum
                            sapien quis metus viverra venenatis. Maecenas scelerisque a enim id porttitor.</p>
                        <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row border-bottom mx-5"></div>
        <div class="row m-5">
            <h3><span> <i class="fas fa-hamburger"></i> </span>Popular cuisines:</h3>
            <div class="card-deck my-4">
                <div class="card">
                    <img class="card-img-top" src="./img/homepage/hawker.png" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Char kway teow</h5>
                        <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec condimentum
                            sapien quis metus viverra venenatis. Maecenas scelerisque a enim id porttitor.</p>
                        <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                    </div>
                </div>
                <div class="card">
                    <img class="card-img-top" src="./img/homepage/chili_crab.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Chili crab</h5>
                        <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec condimentum
                            sapien quis metus viverra venenatis. Maecenas scelerisque a enim id porttitor..</p>
                        <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                    </div>
                </div>
                <div class="card">
                    <img class="card-img-top" src="./img/homepage/pub.png" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">Pubs and bars</h5>
                        <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec condimentum
                            sapien quis metus viverra venenatis. Maecenas scelerisque a enim id porttitor.</p>
                        <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row border-bottom mx-5"></div>
        <div class="row m-5">
            <h3><span> <i class="fas fa-cloud"></i> </span>Singapore Weather:</h3>
        </div>
        <div class="row">
            <div class="mx-5 weather-div pr-0 pl-0 mb-5">
                <img src="./img/homepage/weather.jpg" class="weather-img">
                <div id="openweathermap-widget-15" class="d-flex justify-content-center centered"></div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="container-fluid" style="background-color: #2F4F4F !important; color: #A6A6A6;">
        <div class="row">
            <div class="d-flex flex-column align-items-center justify-content-center w-100">
                <p class="pt-2 mb-1">Connect With Us:</p>
                <div class="d-flex flex-row mb-3">
                    <a href="https://www.facebook.com/" class="mx-1"><img src="./img/base/facebook-3-xl.png"
                            width="30"></a>
                    <a href="https://www.instagram.com/" class="mx-1"><img src="./img/base/instagram-xl.png"
                            width="30"></a>
                    <a href="https://twitter.com/" class="mx-1"><img src="./img/base/twitter-3-xl.png" width="30"></a>
                </div>
                <p>Backpackers INC</p>
                <p style="font-size: 13px;">21 Something Street Unit #01-01 S552069</p>
            </div>
        </div>
    </div>

    <div class="wrapper">
        <div id="popUp" class="popUp popup_hide">
            <div class="popUp-content shadow">
                <!-- <span class="close">&times;</span> -->
                <!-- <p>Успей заказать! Только сегодня -  скидка 15%!</p> -->
                <img src="https://www.epayment.com.ng/images/blog-wp-login-1200x400.png" alt="" class="popUp-img">
                <p>Please login via Google to use SG Backpacking</p>
                <button onclick="clickEventM()" class='login-modal-btn'
                    onclick='this.blur()'><span>Login</span></button>

            </div>
        </div>
    </div>



    <!-- CREATING CONNECTION -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->



    <!-- DATABASE SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-database.js"></script>
    <!-- AUTHENTICATION SDK  -->
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js"></script>

    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional

        var firebaseConfig = {};
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        //database root 
        const database = firebase.database();

        //database favlist
        const favList = database.ref('favList');

        firebase.auth().onAuthStateChanged(function (user) {
            if (user) {
                logInStuff = document.getElementById('logInStuff')
                logInStuff.innerHTML = 'Log out'
                // User is signed in.
                console.log("User is signed in.")
                // alert(user.displayName)
                //hide modal 
                modal.style.display = "none";

            } else {
                logInStuff = document.getElementById('logInStuff')
                logInStuff.innerHTML = 'Log in'
                modal.style.display = "block";
                // No user is signed in.
                console.log("No user is signed in.")
            }
        });
    </script>

    <!-- Bootstrap JavaScript Files -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous">
    </script>

    <!-- Local JS  -->
    <script>
        window.myWidgetParam ? window.myWidgetParam : window.myWidgetParam = [];
        window.myWidgetParam.push({
            id: 15,
            cityid: '1880252',
            appid: '3b249d17074711d3f5fd58e5aed0b1c4',
            units: 'metric',
            containerid: 'openweathermap-widget-15',
        });
        (function () {
            var script = document.createElement('script');
            script.async = true;
            script.charset = "utf-8";
            script.src =
                "//openweathermap.org/themes/openweathermap/assets/vendor/owm/js/weather-widget-generator.js";
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(script, s);
        })();

        $(document).ready(function () {
            var scroll_start = 0;
            var startchange = $('.main');
            var offset = startchange.offset();
            if (startchange.length) {
                $(document).scroll(function () {
                    scroll_start = $(this).scrollTop();
                    if (scroll_start > offset.top) {
                        $(".navbar").css('background-color', 'white');
                        $("#logo").attr('src', './img/icons/logo-white.jpg')
                        $(".nav-link").css('color', '#2F4F4F')
                        $(".dropdown-menu").css('background-color', 'white')
                        $(".dropdown-item").css('color', '#2F4F4F')
                        $("label").css('color', '#2F4F4F')
                        $(".navbar-toggler").css('background-color', 'white')
                    } else {
                        $('.navbar').css('background-color', '#2F4F4F');
                        $("#logo").attr('src', './img/icons/logo-grey.jpg')
                        $(".nav-link").css('color', '#D9D9D9')
                        $(".dropdown-menu").css('background-color', '#2F4F4F')
                        $(".dropdown-item").css('color', '#D9D9D9')
                        $("label").css('color', '#D9D9D9')
                        $(".navbar-toggler").css('background-color', '#2F4F4F')
                    }
                });
            }
        });

        var modal = document.getElementById('popUp');

        // click event for modal

        function clickEventM() {
            event.target.innerHTML == 'Log out'
            provider = new firebase.auth.GoogleAuthProvider();
            firebase.auth().signInWithRedirect(provider).then(function (result) {
                console.log(result);
                console.log("success")


                // ...
            }).catch(function (error) {
                // Handle Errors here.
                var errorCode = error.code;
                var errorMessage = error.message;
                // The email of the user's account used.
                var email = error.email;
                // The firebase.auth.AuthCredential type that was used.
                var credential = error.credential;
                // ...
            });


        }


        //log in function for navbar
        function clickEvent() {
            if (event.target.innerHTML == 'Log in') {
                event.target.innerHTML == 'Log out'
                provider = new firebase.auth.GoogleAuthProvider();
                firebase.auth().signInWithRedirect(provider).then(function (result) {
                    console.log(result);
                    console.log("success")

                    // ...
                }).catch(function (error) {
                    // Handle Errors here.
                    var errorCode = error.code;
                    var errorMessage = error.message;
                    // The email of the user's account used.
                    var email = error.email;
                    // The firebase.auth.AuthCredential type that was used.
                    var credential = error.credential;
                    // ...
                });

            } else {
                event.target.innerHTML == 'Log in'
                firebase.auth().signOut().then(function () {
                    // Sign-out successful.
                }).catch(function (error) {
                    // An error happened.
                });

            }

        }
    </script>
</body>

</html>